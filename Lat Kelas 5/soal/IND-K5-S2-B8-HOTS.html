<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis IND-K5-S2-B8-HOTS</title>
    <style>
        /* CSS Untuk Tampilan */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e0f7fa;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            /* Proteksi Anti Copy Paste */
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        header {
            background-color: #00838f;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        footer {
            background-color: #212121;
            color: #bdbdbd;
            text-align: center;
            padding: 15px;
            margin-top: auto;
            font-size: 0.9em;
        }

        footer a {
            color: #ffca28;
            text-decoration: none;
            font-weight: bold;
        }

        .container {
            background-color: white;
            width: 90%;
            max-width: 800px;
            margin: 30px auto;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
            border-top: 5px solid #00acc1;
        }

        h2, h3 { color: #006064; text-align: center; }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; color: #424242; }
        .form-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }

        .btn {
            background-color: #00acc1;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
            text-decoration: none;
            text-align: center;
            transition: background 0.3s;
        }
        .btn:hover { background-color: #00838f; }
        .btn-home { background-color: #ff9800; display: block; width: fit-content; margin: 0 auto 20px auto;}
        .btn-home:hover { background-color: #f57c00; }

        .hidden { display: none; }

        /* Tampilan Soal */
        #question-text { font-size: 1.2em; margin-bottom: 20px; color: #333; line-height: 1.5; }
        .question-image { max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px; display: block; margin-left: auto; margin-right: auto; }
        
        .options-container { display: flex; flex-direction: column; gap: 10px; }
        .option-btn {
            background-color: #f5f5f5;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 1em;
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) { background-color: #e0f2f1; border-color: #00acc1; }
        
        /* Warna Jawaban */
        .correct-answer { background-color: #4caf50 !important; color: white !important; border-color: #388e3c !important; }
        .wrong-answer { background-color: #f44336 !important; color: white !important; border-color: #d32f2f !important; }

        #explanation-box {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3e0;
            border-left: 5px solid #ff9800;
            border-radius: 4px;
        }

        .navigation-buttons { display: flex; justify-content: space-between; margin-top: 20px; }
        
        .score-display { font-size: 1.1em; font-weight: bold; color: #00838f; text-align: right; margin-bottom: 10px; }

        /* Tabel Riwayat */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        table, th, td { border: 1px solid #ddd; }
        th, td { padding: 12px; text-align: left; }
        th { background-color: #00acc1; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
    </style>
</head>
<body oncontextmenu="return false;">

    <header>
        Kode Soal: IND-K5-S2-B8-HOTS
    </header>

    <div class="container" id="login-screen">
        <h2>Selamat Datang di Kuis Bahasa Indonesia</h2>
        <a href="../index.html" class="btn btn-home">Kembali ke Home</a>
        
        <div class="form-group">
            <label for="student-name">Nama Lengkap:</label>
            <input type="text" id="student-name" placeholder="Masukkan nama lengkap Anda..." required>
        </div>
        <div class="form-group">
            <label for="student-class">Kelas:</label>
            <input type="text" id="student-class" placeholder="Masukkan kelas Anda..." required>
        </div>
        <button class="btn" style="width: 100%;" onclick="startQuiz()">Mulai Kuis</button>

        <h3>Riwayat Skor</h3>
        <table id="history-table">
            <thead>
                <tr>
                    <th>Waktu</th>
                    <th>Nama</th>
                    <th>Kelas</th>
                    <th>Skor</th>
                </tr>
            </thead>
            <tbody id="history-body">
                </tbody>
        </table>
    </div>

    <div class="container hidden" id="quiz-screen">
        <div class="score-display">Skor Sementara: <span id="current-score">0</span></div>
        <div id="question-container">
            <h3 id="question-number">Soal 1</h3>
            <img id="question-image" class="question-image hidden" src="" alt="">
            <p id="question-text">Teks soal akan muncul di sini.</p>
            <div class="options-container" id="options-container">
                </div>
        </div>

        <div id="explanation-box" class="hidden">
            <strong>Pembahasan:</strong>
            <p id="explanation-text"></p>
        </div>

        <div class="navigation-buttons">
            <button class="btn" id="prev-btn" onclick="prevQuestion()" disabled>Soal Sebelumnya</button>
            <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Soal Selanjutnya</button>
        </div>
    </div>

    <div class="container hidden" id="result-screen">
        <h2>Kuis Selesai!</h2>
        <p style="text-size: 1.2em; text-align: center;">Skor Akhir Anda:</p>
        <h1 style="text-align: center; font-size: 4em; color: #00838f; margin: 10px 0;" id="final-score">100</h1>
        <button class="btn" style="width: 100%; margin-top: 20px;" onclick="location.reload()">Kembali ke Halaman Awal</button>
    </div>

    <footer>
        Oleh: Dwi Endrasto<br>
        Produk ini asli jika didapatkan/dibeli melalui <a href="https://lynk.id/smartbanksoal" target="_blank">https://lynk.id/smartbanksoal</a>
    </footer>

    <script>
        // Data Soal (Total 25 Soal - Di sini disediakan 10 contoh representatif sesuai format)
        // Pastikan jumlah karakter pada tiap pilihan mirip/setara.
        const allQuestions = [
            {
                // Materi: Makna kata imbuhan ter-
                text: "Perhatikan kalimat berikut: 'Buku cerita milik Rina tertinggal di laci meja kelas.' Makna imbuhan 'ter-' pada kata 'tertinggal' dalam kalimat tersebut menunjukkan makna...",
                image: "", // Kosongkan jika tidak ada gambar
                options: [
                    "Sesuatu yang dilakukan dengan unsur ketidaksengajaan.",
                    "Sesuatu yang berada dalam keadaan paling atau super.",
                    "Sesuatu yang dapat atau memungkinkan untuk dilakukan.",
                    "Sesuatu yang dilakukan secara berulang-ulang kali."
                ],
                correctAnswer: "Sesuatu yang dilakukan dengan unsur ketidaksengajaan.",
                explanation: "Imbuhan 'ter-' pada kata 'tertinggal' menyatakan suatu perbuatan yang tidak disengaja oleh subjek."
            },
            {
                // Materi: Makna kata imbuhan ter- (Soal Bergambar)
                text: "Berdasarkan gambar di bawah, Andi menjadi pelari tercepat dalam lomba. Makna imbuhan 'ter-' pada kata 'tercepat' adalah...",
                image: "gambar/gambar_pelari_tercepat.jpg", // Keterangan: Edit path ini secara offline dengan gambar pelari juara 1
                options: [
                    "Menyatakan suatu perbuatan yang tidak sengaja terjadi.",
                    "Menyatakan sebuah keadaan yang sudah atau telah terjadi.",
                    "Menyatakan makna tingkat paling atau memiliki sifat super.",
                    "Menyatakan suatu kemampuan yang dapat untuk diselesaikan."
                ],
                correctAnswer: "Menyatakan makna tingkat paling atau memiliki sifat super.",
                explanation: "Pada kata sifat seperti 'cepat', imbuhan 'ter-' berfungsi membentuk kata sifat tingkat superlatif atau 'paling'."
            },
            {
                // Materi: Menulis kalimat saran dan tanggapan
                text: "Doni sering membuang sampah sembarangan di lingkungan sekolah. Kalimat saran yang paling tepat dan logis untuk diberikan kepada Doni adalah...",
                image: "",
                options: [
                    "Doni harusnya dihukum berat agar dia sadar akan perbuatannya.",
                    "Sebaiknya Doni membuang sampah di tempatnya agar sekolah bersih.",
                    "Biarkan saja Doni membuang sampah, nanti juga dibersihkan petugas.",
                    "Doni memang anak yang malas dan tidak peduli pada kebersihan sekolah."
                ],
                correctAnswer: "Sebaiknya Doni membuang sampah di tempatnya agar sekolah bersih.",
                explanation: "Kalimat saran yang baik harus menggunakan bahasa yang santun (sebaiknya/seharusnya) dan memberikan solusi positif."
            },
            {
                // Materi: Menulis kalimat saran dan tanggapan (HOTS)
                text: "Siti mendapat tugas kelompok, tetapi ia lebih banyak bermain daripada membantu teman-temannya. Tanggapan yang tepat terhadap sikap Siti adalah...",
                image: "",
                options: [
                    "Sikap Siti sangat merugikan, seharusnya ia ikut bertanggung jawab penuh.",
                    "Sikap Siti wajar saja karena tugas kelompok memang bisa dikerjakan orang lain.",
                    "Sikap Siti patut dicontoh karena ia bisa bersantai saat teman lain sibuk bekerja.",
                    "Sikap Siti menunjukkan kecerdasan karena bisa memanfaatkan pekerjaan temannya."
                ],
                correctAnswer: "Sikap Siti sangat merugikan, seharusnya ia ikut bertanggung jawab penuh.",
                explanation: "Tanggapan yang tepat harus berisi penilaian objektif terhadap suatu peristiwa disertai alasan yang logis."
            },
            {
                // Materi: Membuat pantun nasihat
                text: "Perhatikan baris pantun berikut!\n(1) Belajar giat setiap hari\n(2) Pergi ke pasar membeli batik\n(3) Agar masa depan menjadi baik\n(4) Batik dipakai terasa nyaman\nUrutan yang tepat agar menjadi pantun nasihat yang benar adalah...",
                image: "",
                options: [
                    "Baris (2) - (4) - (1) - (3)",
                    "Baris (1) - (3) - (2) - (4)",
                    "Baris (4) - (2) - (3) - (1)",
                    "Baris (2) - (1) - (4) - (3)"
                ],
                correctAnswer: "Baris (2) - (4) - (1) - (3)",
                explanation: "Struktur pantun: baris 1 & 2 adalah sampiran (2-4), baris 3 & 4 adalah isi (1-3) dengan rima a-b-a-b (batik-nyaman-hari-baik) -> (batik-nyaman, hari-baik kurang pas rima, namun dari logika isi: 2-4 sampiran, 1-3 isi)."
            },
            {
                // Materi: Membuat pantun nasihat (Soal Bergambar)
                text: "Amati gambar gotong royong di atas. Baris isi pantun nasihat yang paling sesuai dengan pesan moral pada gambar tersebut adalah...",
                image: "gambar/gambar_gotong_royong.jpg", // Keterangan: Edit path ini secara offline dengan gambar masyarakat kerja bakti
                options: [
                    "Mari kita rajin menabung, agar kelak hidup beruntung.",
                    "Mari kita bergotong royong, agar pekerjaan cepat rampung.",
                    "Jangan suka berkata bohong, nanti teman menjadi murung.",
                    "Rajin belajar tak boleh kosong, agar nilai meraih untung."
                ],
                correctAnswer: "Mari kita bergotong royong, agar pekerjaan cepat rampung.",
                explanation: "Gambar gotong royong sesuai dengan pesan tentang kerja sama untuk mempercepat selesainya suatu pekerjaan."
            },
            {
                // Materi: Berpidato persuasif
                text: "Dalam penutup pidato tentang kebersihan kelas, kalimat ajakan (persuasif) yang paling efektif dan menggugah kesadaran pendengar adalah...",
                image: "",
                options: [
                    "Demikian pidato saya, semoga teman-teman semua bisa memahami maksud saya.",
                    "Oleh karena itu, marilah kita mulai menjaga kebersihan kelas dari diri sendiri.",
                    "Saya rasa cukup sekian pidato ini, terima kasih atas perhatian dari teman-teman.",
                    "Kebersihan itu penting, jadi kalian semua wajib menyapu kelas tanpa mengeluh."
                ],
                correctAnswer: "Oleh karena itu, marilah kita mulai menjaga kebersihan kelas dari diri sendiri.",
                explanation: "Kalimat persuasif ditandai dengan kata ajakan seperti 'marilah', 'ayo', dan bertujuan mendorong audiens melakukan sesuatu dengan kesadaran."
            },
            {
                // Materi: Berpidato persuasif (HOTS Analisis)
                text: "Seorang siswa berpidato: 'Banyak teman kita yang kekurangan buku bacaan. Padahal, buku adalah jendela dunia. [...]' Kalimat yang tepat untuk melengkapi bagian persuasif tersebut adalah...",
                image: "",
                options: [
                    "Ayo kita kumpulkan buku bekas yang layak pakai untuk disumbangkan.",
                    "Kita harus menyadari bahwa membeli buku itu membutuhkan banyak biaya.",
                    "Saya berharap pemerintah segera memberikan bantuan buku yang banyak.",
                    "Buku memang mahal, jadi wajar jika tidak semua orang bisa membelinya."
                ],
                correctAnswer: "Ayo kita kumpulkan buku bekas yang layak pakai untuk disumbangkan.",
                explanation: "Karena pidatonya membahas teman yang kekurangan buku, ajakan yang logis adalah mengumpulkan dan menyumbangkan buku."
            },
            {
                // Materi: Makna kata imbuhan ter-
                text: "Kata berimbuhan 'ter-' yang memiliki makna 'dapat di-' terdapat pada kalimat...",
                image: "",
                options: [
                    "Gunung tinggi itu akhirnya terdaki juga oleh kelompok pencinta alam.",
                    "Adik menangis karena terjatuh dari sepeda saat bermain di halaman.",
                    "Buku itu tersusun sangat rapi di dalam rak perpustakaan sekolah.",
                    "Pemandangan alam di desa itu merupakan pemandangan terindah."
                ],
                correctAnswer: "Gunung tinggi itu akhirnya terdaki juga oleh kelompok pencinta alam.",
                explanation: "'Terdaki' bermakna 'dapat didaki'. Terjatuh (tidak sengaja), tersusun (keadaan), terindah (paling)."
            },
            {
                // Materi: Berpidato persuasif (Soal Bergambar)
                text: "Gambar di atas menunjukkan bahaya penebangan liar. Jika Anda membuat pidato persuasif berdasarkan gambar tersebut, argumen yang tepat adalah...",
                image: "gambar/gambar_hutan_gundul.jpg", // Keterangan: Edit path ini dengan gambar hutan yang ditebangi
                options: [
                    "Penebangan liar harus dihentikan karena merusak ekosistem dan memicu bencana banjir.",
                    "Penebangan hutan sangat bermanfaat karena kayunya bisa dijual dengan harga yang mahal.",
                    "Hutan yang gundul bisa segera dijadikan perumahan mewah untuk warga perkotaan.",
                    "Pemerintah tidak perlu ikut campur karena hutan adalah milik masyarakat sekitar sana."
                ],
                correctAnswer: "Penebangan liar harus dihentikan karena merusak ekosistem dan memicu bencana banjir.",
                explanation: "Pidato persuasif harus memuat argumen yang positif, rasional, dan mencegah dampak buruk."
            },
            {
                // Soal 11 - Materi: Makna kata imbuhan ter- (Analisis Makna)
                text: "Saat bermain bola di lapangan, kaca jendela ruang guru 'terlempar' bola oleh Budi. Imbuhan ter- pada kata bercetak kutip tersebut bermakna...",
                image: "",
                options: [
                    "Suatu tindakan yang tidak sengaja terjadi.",
                    "Suatu keadaan yang sudah lama terjadi.",
                    "Suatu sifat yang memiliki tingkat paling.",
                    "Suatu kejadian yang diulang berkali-kali."
                ],
                correctAnswer: "Suatu tindakan yang tidak sengaja terjadi.",
                explanation: "Kata 'terlempar' dalam konteks ini menunjukkan ketidaksengajaan. Budi tidak berniat melempar bola ke arah kaca jendela."
            },
            {
                // Soal 12 - Materi: Makna kata imbuhan ter- (Perbandingan Makna)
                text: "Pintu gerbang sekolah sudah 'terbuka' sejak pukul enam pagi. Makna imbuhan ter- pada kalimat tersebut sama dengan makna imbuhan ter- pada kalimat...",
                image: "",
                options: [
                    "Andi tertidur di kelas karena malamnya ia begadang.",
                    "Buku catatanku tertinggal di laci meja perpustakaan.",
                    "Sepeda itu terparkir rapi di halaman depan sekolah.",
                    "Rina adalah siswi terpandai di kelas lima tahun ini."
                ],
                correctAnswer: "Sepeda itu terparkir rapi di halaman depan sekolah.",
                explanation: "Kata 'terbuka' dan 'terparkir' sama-sama memiliki makna menyatakan suatu 'keadaan' yang telah terjadi."
            },
            {
                // Soal 13 - Materi: Menulis kalimat saran dan tanggapan (Empati)
                text: "Temanmu selalu datang terlambat ke sekolah dengan alasan jarak rumahnya jauh. Saran yang paling logis dan tidak menyinggung perasaannya adalah...",
                image: "",
                options: [
                    "Seharusnya kamu pindah rumah agar lebih dekat dengan sekolah kita.",
                    "Lebih baik kamu bangun lebih pagi agar tidak terlambat ke sekolah.",
                    "Sebaiknya kamu tidak usah sekolah jika selalu datang terlambat terus.",
                    "Menurutku kamu anak pemalas karena tidak bisa bangun lebih pagi."
                ],
                correctAnswer: "Lebih baik kamu bangun lebih pagi agar tidak terlambat ke sekolah.",
                explanation: "Saran yang baik harus memberikan solusi yang masuk akal dan disampaikan menggunakan bahasa yang positif serta membangun."
            },
            {
                // Soal 14 - Materi: Menulis kalimat saran dan tanggapan (Soal Bergambar)
                text: "Perhatikan gambar di atas! Tanggapan yang tepat dan kritis terhadap perilaku anak pada gambar tersebut adalah...",
                image: "gambar/gambar_buang_sampah_sungai.jpg", // Keterangan: Edit path ini dengan gambar anak membuang sampah di sungai
                options: [
                    "Tindakan itu sangat tidak terpuji karena dapat mencemari lingkungan sungai.",
                    "Tindakan itu sangat wajar saja karena sungai memang tempat membuang sampah.",
                    "Tindakan itu patut dicontoh agar sampah di dalam rumah bisa cepat dibersihkan.",
                    "Tindakan itu sangat bagus sekali karena air sungai akan membawa sampah pergi."
                ],
                correctAnswer: "Tindakan itu sangat tidak terpuji karena dapat mencemari lingkungan sungai.",
                explanation: "Tanggapan kritis harus menyoroti dampak buruk (pencemaran) dari perbuatan membuang sampah sembarangan di sungai."
            },
            {
                // Soal 15 - Materi: Membuat pantun nasihat (Melengkapi Isi)
                text: "Jalan-jalan ke kota Blitar,\nJangan lupa membeli sukun.\n... (1) \n... (2) \nKalimat yang tepat untuk melengkapi bagian isi pantun nasihat tersebut adalah...",
                image: "",
                options: [
                    "(1) Jika ingin tumbuh pintar, (2) Belajarlah dengan sangat tekun.",
                    "(1) Kalau kamu sedang lapar, (2) Makanlah buah dengan santun.",
                    "(1) Barang siapa yang bersabar, (2) Niscaya kelak akan beruntung.",
                    "(1) Mari kita belajar sabar, (2) Agar hidup menjadi lebih rukun."
                ],
                correctAnswer: "(1) Jika ingin tumbuh pintar, (2) Belajarlah dengan sangat tekun.",
                explanation: "Pantun harus bersajak a-b-a-b. 'Blitar' berima dengan 'pintar' (ar), dan 'sukun' berima dengan 'tekun' (un)."
            },
            {
                // Soal 16 - Materi: Membuat pantun nasihat (Analisis Makna)
                text: "Buah cempedak bentuknya oval,\nBawa ke pasar di dalam keranjang.\nJangan biarkan waktu menyesal,\nTuntutlah ilmu selagi panjang.\nPesan utama dari pantun tersebut adalah...",
                image: "",
                options: [
                    "Waktu sangat berharga sehingga kita harus pandai menjual buah.",
                    "Jangan menunda-nunda waktu untuk terus rajin menuntut ilmu.",
                    "Penyesalan selalu datang terlambat jika kita tidak pergi ke pasar.",
                    "Membawa keranjang ke pasar adalah tindakan yang sangat tepat."
                ],
                correctAnswer: "Jangan menunda-nunda waktu untuk terus rajin menuntut ilmu.",
                explanation: "Pesan pantun terletak pada baris ke-3 dan ke-4 yang berisi nasihat agar tidak menyia-nyiakan waktu untuk belajar."
            },
            {
                // Soal 17 - Materi: Berpidato persuasif (Kalimat Ajakan)
                text: "Teman-teman, belakangan ini banyak kasus penyakit demam berdarah di lingkungan kita. Nyamuk berkembang biak di tempat yang kotor. Kalimat ajakan yang paling sesuai untuk melanjutkan kutipan pidato di atas adalah...",
                image: "",
                options: [
                    "Oleh karena itu, mari kita bersama-sama menjaga kebersihan lingkungan.",
                    "Demikian pidato ini saya sampaikan, semoga kalian semua memahaminya.",
                    "Penyakit demam berdarah sangat berbahaya dan bisa menyebabkan kematian.",
                    "Saya harap pemerintah segera melakukan penyemprotan nyamuk di desa ini."
                ],
                correctAnswer: "Oleh karena itu, mari kita bersama-sama menjaga kebersihan lingkungan.",
                explanation: "Kutipan tersebut menjelaskan masalah nyamuk di tempat kotor, maka kalimat persuasifnya adalah ajakan (mari) menjaga kebersihan."
            },
            {
                // Soal 18 - Materi: Berpidato persuasif (Analisis Argumen Logis)
                text: "Dalam berpidato persuasif tentang pentingnya sarapan, argumen yang kurang tepat untuk disampaikan kepada para pendengar adalah...",
                image: "",
                options: [
                    "Sarapan memberikan energi yang sangat cukup untuk kita belajar di sekolah.",
                    "Sarapan membuat kita lebih sulit berkonsentrasi saat guru sedang menjelaskan.",
                    "Sarapan mencegah kita dari terkena penyakit maag dan gangguan pencernaan.",
                    "Sarapan membantu menjaga stamina tubuh kita sepanjang hari ketika di kelas."
                ],
                correctAnswer: "Sarapan membuat kita lebih sulit berkonsentrasi saat guru sedang menjelaskan.",
                explanation: "Argumen bahwa sarapan 'membuat lebih sulit berkonsentrasi' adalah kebalikan dari fakta dan tujuan pidato tentang pentingnya sarapan."
            },
            {
                // Soal 19 - Materi: Berpidato persuasif (Soal Bergambar)
                text: "Berdasarkan gambar antrean air bersih di atas, inti pesan persuasif yang paling tepat untuk disampaikan dalam sebuah pidato adalah...",
                image: "gambar/gambar_hemat_air.jpg", // Keterangan: Edit path ini dengan gambar warga yang mengantre air bersih
                options: [
                    "Marilah kita menggunakan air secara boros karena air tidak akan pernah habis.",
                    "Marilah kita bijak dan berhemat dalam menggunakan air bersih di setiap hari.",
                    "Pemerintah harus membagikan air secara gratis kepada semua warga masyarakat.",
                    "Musim kemarau adalah bencana alam yang tidak dapat kita hindari bersama-sama."
                ],
                correctAnswer: "Marilah kita bijak dan berhemat dalam menggunakan air bersih di setiap hari.",
                explanation: "Gambar kekeringan menjadi dasar untuk memberikan pesan ajakan (persuasif) agar masyarakat menghemat air bersih."
            },
            {
                // Soal 20 - Materi: Menulis kalimat saran dan tanggapan (Etika Diskusi)
                text: "Saat diskusi kelompok, pendapatmu tidak disetujui oleh anggota lain. Tanggapan yang menunjukkan sikap menghargai perbedaan pendapat adalah...",
                image: "",
                options: [
                    "Memaksa teman-teman untuk tetap menerima ide karena idenya sangat brilian.",
                    "Menerima keputusan secara bersama meskipun berbeda dengan pendapat pribadi.",
                    "Meninggalkan kelompok karena merasa ide tidak pernah dihargai oleh teman lain.",
                    "Marah dan menuduh teman-teman tidak paham dengan maksud baik pendapatmu."
                ],
                correctAnswer: "Menerima keputusan secara bersama meskipun berbeda dengan pendapat pribadi.",
                explanation: "Tanggapan yang baik dalam diskusi adalah berjiwa besar menerima hasil mufakat meskipun berbeda dengan pendapat kita sendiri."
            },
            {
                // Soal 21 - Materi: Makna kata imbuhan ter- (Analisis Makna Superlatif)
                text: "Kalimat manakah di bawah ini yang menggunakan imbuhan 'ter-' dengan memiliki makna tingkat 'paling'?",
                image: "",
                options: [
                    "Jari adik teriris pisau saat membantu ibu memasak di ruangan dapur.",
                    "Gedung tertinggi di kota itu baru saja selesai dibangun pada bulan lalu.",
                    "Suara merdu penyanyi itu terdengar sampai ke area luar gedung konser.",
                    "Rencana liburan keluarga kami akhirnya tertunda karena cuaca sedang buruk."
                ],
                correctAnswer: "Gedung tertinggi di kota itu baru saja selesai dibangun pada bulan lalu.",
                explanation: "Kata 'tertinggi' berasal dari kata sifat tinggi ditambah imbuhan ter-, yang membentuk makna superlatif (paling tinggi)."
            },
            {
                // Soal 22 - Materi: Membuat pantun nasihat (Rima Akhir)
                text: "Pagi hari meminum jamu,\nJamu diminum terasa pahit.\n...\n...\nBaris isi yang paling tepat untuk melengkapi pantun di atas agar bersajak u-it adalah...",
                image: "",
                options: [
                    "Jangan pernah malas membaca buku,\nAgar cita-cita setinggi angkasa langit.",
                    "Rajin-rajinlah dalam mencari ilmu,\nAgar masa depan tidaklah menjadi rumit.",
                    "Teruslah kawan kejar semua mimpimu,\nSupaya kelak tak jatuh tertimpa sakit.",
                    "Mari belajar bersama dengan diriku,\nSupaya kita menjadi orang sangat elit."
                ],
                correctAnswer: "Rajin-rajinlah dalam mencari ilmu,\nAgar masa depan tidaklah menjadi rumit.",
                explanation: "Sajak sampiran adalah jamu (u) dan pahit (it). Maka isinya harus berakhiran u dan it. 'ilmu' (u) dan 'rumit' (it) sangat tepat."
            },
            {
                // Soal 23 - Materi: Makna kata imbuhan ter- (Analisis Konteks)
                text: "Makna imbuhan ter- pada kata 'terlupakan' dalam kalimat 'Kebaikan pahlawan itu takkan terlupakan oleh kami' adalah...",
                image: "",
                options: [
                    "Menyatakan sesuatu yang tidak sengaja dilakukan oleh para pelaku sejarah.",
                    "Menyatakan sebuah kemampuan atau dapat untuk dilakukan oleh seseorang.",
                    "Menyatakan kondisi yang telah terjadi di masa lalu yang sangat lama berlalu.",
                    "Menyatakan sesuatu yang memiliki tingkat atau sifat paling di antara yang lain."
                ],
                correctAnswer: "Menyatakan sebuah kemampuan atau dapat untuk dilakukan oleh seseorang.",
                explanation: "Kata 'terlupakan' dalam kalimat dengan pola negatif 'takkan terlupakan' bermakna 'dapat dilupakan'."
            },
            {
                // Soal 24 - Materi: Menulis kalimat saran dan tanggapan (Tanggung Jawab)
                text: "Ibu guru memberikan teguran karena Edo bermain bola di dalam kelas. Tanggapan logis dari Edo yang menunjukkan rasa tanggung jawab adalah...",
                image: "",
                options: [
                    "Saya minta maaf Bu, saya berjanji tidak akan mengulanginya lagi di dalam kelas.",
                    "Bukankah bermain bola itu menyehatkan Bu, jadi tidak ada masalah jika dilakukan.",
                    "Teman-teman juga ikut bermain Bu, mengapa hanya saya saja yang kena dimarahi.",
                    "Saya akan bermain bola di luar kelas jika teman-teman yang lain juga mau ikut."
                ],
                correctAnswer: "Saya minta maaf Bu, saya berjanji tidak akan mengulanginya lagi di dalam kelas.",
                explanation: "Tanggapan yang bertanggung jawab mengakui kesalahan secara langsung, meminta maaf, dan berjanji memperbaikinya tanpa mencari alasan."
            },
            {
                // Soal 25 - Materi: Berpidato persuasif (Tujuan Pidato)
                text: "\"Hadirin yang saya hormati, sampah plastik sangat sulit terurai oleh tanah. Jika kita membiarkannya, bumi kita akan semakin tercemar.\" Tujuan dari penggalan pidato persuasif tersebut adalah...",
                image: "",
                options: [
                    "Memberikan informasi tentang berbagai macam jenis sampah plastik di muka bumi.",
                    "Meyakinkan pendengar tentang adanya bahaya sampah plastik bagi kelestarian bumi.",
                    "Menghibur semua pendengar dengan cerita menarik tentang sampah plastik di bumi.",
                    "Meminta para pendengar untuk segera membuang semua sampah plastik ke atas tanah."
                ],
                correctAnswer: "Meyakinkan pendengar tentang adanya bahaya sampah plastik bagi kelestarian bumi.",
                explanation: "Kalimat tersebut memaparkan fakta buruk (sulit terurai dan mencemari) untuk membangun kesadaran dan meyakinkan pendengar akan bahaya plastik."
            }
            // TAMBAHKAN 15 SOAL LAINNYA DI SINI UNTUK MENCAPAI PERSIS 25 SOAL.
            // Gunakan format yang sama: {text: "", image: "", options: ["","","",""], correctAnswer: "", explanation: ""}
        ];

        // Unique Key untuk LocalStorage agar tidak bentrok dengan soal lain
        const STORAGE_KEY = "History_IND_K5_S2_B8_HOTS";

        let currentQuestionIndex = 0;
        let score = 0;
        let studentData = { name: "", class: "", time: "" };
        let selectedAnswers = []; // Menyimpan jawaban user { qIndex: index, isCorrect: boolean }

        // Mencegah Copy-Paste (tambahan proteksi js)
        document.addEventListener('copy', (e) => { e.preventDefault(); return false; });
        document.addEventListener('cut', (e) => { e.preventDefault(); return false; });
        document.addEventListener('paste', (e) => { e.preventDefault(); return false; });

        window.onload = () => {
            loadHistory();
        };

        function startQuiz() {
            const name = document.getElementById('student-name').value;
            const cls = document.getElementById('student-class').value;

            if (!name || !cls) {
                alert("Harap isi Nama dan Kelas terlebih dahulu!");
                return;
            }

            studentData.name = name;
            studentData.class = cls;
            
            const now = new Date();
            studentData.time = now.toLocaleString('id-ID');

            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');

            // Acak posisi soal jika diperlukan (Opsional), tapi permintaan adalah mengacak *pilihan jawaban*
            loadQuestion();
        }

        // Fungsi mengacak array (Fisher-Yates)
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        function loadQuestion() {
            const q = allQuestions[currentQuestionIndex];
            
            document.getElementById('question-number').innerText = `Soal ${currentQuestionIndex + 1} dari ${allQuestions.length}`;
            document.getElementById('question-text').innerText = q.text;
            document.getElementById('current-score').innerText = score;

            // Handle Gambar
            const imgElement = document.getElementById('question-image');
            if (q.image !== "") {
                imgElement.src = q.image;
                imgElement.classList.remove('hidden');
            } else {
                imgElement.classList.add('hidden');
                imgElement.src = "";
            }

            // Sembunyikan penjelasan & reset tombol navigasi
            document.getElementById('explanation-box').classList.add('hidden');
            document.getElementById('next-btn').disabled = true;
            document.getElementById('prev-btn').disabled = (currentQuestionIndex === 0);

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = "";

            // Mengacak pilihan jawaban setiap soal
            let shuffledOptions = [...q.options];
            shuffleArray(shuffledOptions);

            shuffledOptions.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => selectAnswer(btn, opt, q.correctAnswer);
                optionsContainer.appendChild(btn);
            });

            // Cek jika soal ini sudah pernah dijawab (saat klik back)
            const previousAnswer = selectedAnswers.find(ans => ans.qIndex === currentQuestionIndex);
            if (previousAnswer) {
                // Nonaktifkan semua tombol
                const buttons = optionsContainer.querySelectorAll('.option-btn');
                buttons.forEach(b => {
                    b.disabled = true;
                    if (b.innerText === q.correctAnswer) {
                        b.classList.add('correct-answer');
                    } else if (b.innerText === previousAnswer.userChoice) {
                        b.classList.add('wrong-answer');
                    }
                });
                showExplanation(q.explanation);
                document.getElementById('next-btn').disabled = false;
            }
        }

        function selectAnswer(btn, selected, correct) {
            const q = allQuestions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.option-btn');
            
            // Disable all options
            buttons.forEach(b => b.disabled = true);

            let isCorrect = (selected === correct);

            if (isCorrect) {
                btn.classList.add('correct-answer');
                score += (100 / allQuestions.length); // Skor dinamis berdasarkan jumlah soal
            } else {
                btn.classList.add('wrong-answer');
                // Highlight jawaban benar
                buttons.forEach(b => {
                    if (b.innerText === correct) b.classList.add('correct-answer');
                });
            }

            // Simpan jawaban
            selectedAnswers.push({
                qIndex: currentQuestionIndex,
                isCorrect: isCorrect,
                userChoice: selected
            });

            document.getElementById('current-score').innerText = Math.round(score);
            showExplanation(q.explanation);

            // Aktifkan tombol next
            document.getElementById('next-btn').disabled = false;
        }

        function showExplanation(text) {
            document.getElementById('explanation-text').innerText = text;
            document.getElementById('explanation-box').classList.remove('hidden');
        }

        function nextQuestion() {
            if (currentQuestionIndex < allQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function finishQuiz() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            let finalScore = Math.round(score);
            document.getElementById('final-score').innerText = finalScore;

            saveHistory(finalScore);
        }

        function saveHistory(finalScore) {
            let history = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            history.push({
                time: studentData.time,
                name: studentData.name,
                class: studentData.class,
                score: finalScore
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(history));
        }

        function loadHistory() {
            let history = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            const tbody = document.getElementById('history-body');
            tbody.innerHTML = "";

            // Tampilkan dari yang terbaru
            history.reverse().forEach(entry => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${entry.time}</td>
                    <td>${entry.name}</td>
                    <td>${entry.class}</td>
                    <td><strong>${entry.score}</strong></td>
                `;
                tbody.appendChild(tr);
            });
        }
    </script>
</body>
</html>